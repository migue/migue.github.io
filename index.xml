<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Just my thouhgts</title>
    <link>https://migue.github.io/</link>
      <atom:link href="https://migue.github.io/index.xml" rel="self" type="application/rss+xml" />
    <description>Just my thouhgts</description>
    <generator>Source Themes Academic (https://sourcethemes.com/academic/)</generator><language>en-us</language><lastBuildDate>Tue, 14 Apr 2020 15:14:30 +0100</lastBuildDate>
    <image>
      <url>img/map[gravatar:%!s(bool=false) shape:circle]</url>
      <title>Just my thouhgts</title>
      <link>https://migue.github.io/</link>
    </image>
    
    <item>
      <title>InfluxDB storage subsystem: an introduction</title>
      <link>https://migue.github.io/post/quick-tour-influx-storage/</link>
      <pubDate>Tue, 14 Apr 2020 15:14:30 +0100</pubDate>
      <guid>https://migue.github.io/post/quick-tour-influx-storage/</guid>
      <description>&lt;p&gt;Writing on the blog about some of the technical stuff I usually enjoy and/or work with is something that’s always in my plans but I never find the right time do it. Due to all this quarantine related stuff, both my sleeping habits and the kid’s are being somehow affected and, well, here I am, staring at a blank page trying to start writing about databases. And, well, since I don’t longer work for an international company I thought it would be a good idea to somehow practice my poor English skills.&lt;/p&gt;
&lt;p&gt;This time my plan is to write about InfluxDB, a columnar oriented time-series database written in Go, and provide a quick tour of some of the most important characteristics of their storage engine.&lt;/p&gt;
&lt;p&gt;I have been dealing with InfluxDB for a while and I have gone way deeper than I would like to quite a few times but &lt;strong&gt;I am by no means an expert&lt;/strong&gt;, so, please, if I say something that’s not completely accurate, forgive me, and please, correct me.&lt;/p&gt;
&lt;p&gt;I’ve dealt with both the OpenSource and the Enterprise versions but everything here is going to be based on the former (to the best of my knowledge the storage engine is the same in both alternatives). The details included later in the post are based on the 1.8.x and 1.7.x branches (I know the 2.0 introduces quite a lot changes but I won’t talk about them here).&lt;/p&gt;
&lt;h1 id=&#34;before-getting-started&#34;&gt;Before getting started&lt;/h1&gt;
&lt;p&gt;Influx has gone through different storage engines through its short lifetime: LevelDB, BoltDB (not sure if there’s anymore) and, and this is just an educated guess, any of them completely satisfied the requirements that the InfluxDB folks were looking for: large batch deletes, hot backups, high throughput or a good compression performance among many others. So, in order to solve the previous points (it’s not an exhaustive list), they decided to go on their own and write a new storage engine (it&amp;rsquo;s a brave bet).&lt;/p&gt;
&lt;p&gt;Everything I am going to write about here is focused on this storage engine and I have no experience with the Influx versions where the underlying storage engine was LevelDB or BoltDB.&lt;/p&gt;
&lt;h1 id=&#34;influxdb-concepts&#34;&gt;InfluxDB concepts&lt;/h1&gt;
&lt;p&gt;Before we go into the details of the storage engine let me introduce a few concepts I think all of us should know about.&lt;/p&gt;
&lt;p&gt;Everything starts with a database concept, similar to a traditional RDBMS, which acts as the container of many of the capabilities that Influx provides: user management, retention policies, continuous queries, … Everything related to a database is represented under a folder in the filesystem.&lt;/p&gt;
&lt;p&gt;A &lt;strong&gt;retention policy&lt;/strong&gt; describes how long the data is kept around and how many copies of this data are stored in the cluster (for the OpenSource version the replication setting has no effect).&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Measurements&lt;/strong&gt; are the “data structure” used to model how the data is stored in Influx and the fields associated with it.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Fields&lt;/strong&gt; represent the actual data value. These are required and, something really important, they are not indexed.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Tags&lt;/strong&gt; represents metadata associated with the aforementioned fields. They are optional, but they are very useful because they are indexed and allow you to perform group by and/or filter operations (you can filter on fields as well, but since they are not indexed, this is not a performant operation).&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Series&lt;/strong&gt; are a logical grouping of data defined by a measurement, a set of tags and a field. To me, this is one of the most important concepts that need to be clear while working with InfluxDB, because many of the different concepts revolve around it.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Shards&lt;/strong&gt;  contains the actual encoded and compressed data. They are represented by a TSM file on disk (more on this later). Every shard contains a specific set of series so all the points falling on a given series will be stored in the same shard.&lt;/p&gt;
&lt;p&gt;In order to get your data points inserted into the database, Influx defines a text-based protocol named &lt;strong&gt;line protocol&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;An example of how a single data point looks like in the &lt;strong&gt;line protocol&lt;/strong&gt; and how it maps to the concepts described before is shown in the picture below:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://migue.github.io/img/influx-line-protocol.png&#34; alt=&#34;Influx Line Protocol&#34;&gt;&lt;/p&gt;
&lt;h1 id=&#34;influxdb-storage-engine&#34;&gt;InfluxDB storage engine&lt;/h1&gt;
&lt;p&gt;At the beginning of the post, I described some of the features that, per my understanding, the Influx folks were looking for when building their storage engine and how all these requirements led them to their current storage solution.&lt;/p&gt;
&lt;p&gt;Their storage solution is similar to an LSM Tree and, from a high-level perspective, it is composed by:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;A write-ahead log&lt;/li&gt;
&lt;li&gt;A collection of &lt;strong&gt;TSM&lt;/strong&gt; (read-only) files where the actual time series data is stored (similar to the SSTables)&lt;/li&gt;
&lt;li&gt;TSI files that serve as the inverted index used to quickly access the information. Prior to this version of the index, the data was held into an in-memory data structure, making it difficult to support high-cardinality scenarios (millions of series).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Before we move forward, a short note about how I plan to organize the contents. The original idea was to put everything I wanted to write down into a single post but it would be probably a little bit dense so I have decided to split it into 3 different parts:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The current one with the introduction to Influx, the overview of the storage engine and a quick tour around the WAL component and its cache counterpart.&lt;/li&gt;
&lt;li&gt;The second one will cover the details about the TSM.&lt;/li&gt;
&lt;li&gt;The third one will cover details about the TSI.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;For this post, let’s try to go a little bit deeper into the write ahead log (WAL) and its cache counterpart.&lt;/p&gt;
&lt;h2 id=&#34;write-ahead-log-wal&#34;&gt;Write ahead log (WAL)&lt;/h2&gt;
&lt;p&gt;The WAL is a write-optimized data structure that allows the writes to be durable and its main goal is to allow the writes to be appended as fast as possible so it is not easily queryable.&lt;/p&gt;
&lt;p&gt;When a new write comes into the system the new points are:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Stored at an in-memory cache (more about this in the next section).&lt;/li&gt;
&lt;li&gt;Serialized, compressed using Snappy and written to the WAL.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;If we take a look at the 
&lt;a href=&#34;https://github.com/influxdata/influxdb/blob/1.8/tsdb/engine/tsm1/engine.go#L1367&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;source code&lt;/a&gt;
 we can see where this actually happens:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;// WritePoints writes metadata and point data into the engine.
// It returns an error if new points are added to an existing key.
func (e *Engine) WritePoints(points []models.Point) error {
    ….
    // first try to write to the cache
    if err := e.Cache.WriteMulti(values); err != nil {
        return err
    }
 
    if e.WALEnabled {
        if _, err := e.WAL.WriteMulti(values); err != nil {
            return err
        }
    }
    return seriesErr
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note that we could disable the WAL and, in this case, writes will only exist in the cache and could be lost if a cache snapshot has not happened.&lt;/p&gt;
&lt;p&gt;The format used to describe every one of the entries appended to the WAL follows a type-length-value encoding scheme with a single byte representing the type of the entry being stored (write, delete or a range delete), a 4 byte uint32 representing the length of the compressed block, followed by the actual compressed data block.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://migue.github.io/img/wal-entry-encoding.png&#34; alt=&#34;Wal entry encoding&#34;&gt;&lt;/p&gt;
&lt;p&gt;Looking again at the 
&lt;a href=&#34;https://github.com/influxdata/influxdb/blob/1.8/tsdb/engine/tsm1/wal.go#L1062&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;source code&lt;/a&gt;
 here we can see how the actual writing is performed:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;// Write writes entryType and the buffer containing compressed entry data.
func (w *WALSegmentWriter) Write(entryType WalEntryType, compressed []byte) error {
    var buf [5]byte
    buf[0] = byte(entryType)
    binary.BigEndian.PutUint32(buf[1:5], uint32(len(compressed)))
 
    if _, err := w.bw.Write(buf[:]); err != nil {
        return err
    }
 
    if _, err := w.bw.Write(compressed); err != nil {
        return err
    }
 
    w.size += len(buf) + len(compressed)
 
    return nil
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;cache&#34;&gt;Cache&lt;/h2&gt;
&lt;p&gt;The cache component is an in-memory data structure that holds a copy of all the points persisted in the WAL. As we’ve already mentioned in the previous section, when a new write comes into the system the new points are stored in this cache.&lt;/p&gt;
&lt;p&gt;The aforementioned points are indexed by the key which is formed by the measurement name, the tag set and the unique field key. If we go back to our previous example where we had a single write coming into the system:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;infrastructure_metrics,server=server-1,container=container-1 cpu_usage=82
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The key would be represented by something like this:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://migue.github.io/img/wal-cache-key.png&#34; alt=&#34;WAL Cache Key&#34;&gt;&lt;/p&gt;
&lt;p&gt;The points stored in the cache are not compressed and an upper bound can be set so we can prevent unexpected out of memory situations (if the upper bound limit is exceeded new writes coming into the system will be rejected) and prevent the database service to be unexpectedly restarted.&lt;/p&gt;
&lt;p&gt;When the number of elements in the cache reaches a certain lower bound (it’s configurable as well) a snapshot of the cache is triggered to a TSM file and the corresponding WAL segment files are removed.&lt;/p&gt;
&lt;p&gt;If we take a quick look to the 
&lt;a href=&#34;https://github.com/influxdata/influxdb/blob/1.8/tsdb/engine/tsm1/engine.go#L1968&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;source code&lt;/a&gt;
 we can see the behavior described in the previous paragraph:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;// compactCache continually checks if the WAL cache should be written to disk.
func (e *Engine) compactCache() {
    t := time.NewTicker(time.Second)
    defer t.Stop()
    for {
        e.mu.RLock()
        quit := e.snapDone
        e.mu.RUnlock()
 
        select {
        case &amp;lt;-quit:
            return
 
        case &amp;lt;-t.C:
            e.Cache.UpdateAge()
            if e.ShouldCompactCache(time.Now()) {
                start := time.Now()
                e.traceLogger.Info(&amp;quot;Compacting cache&amp;quot;, zap.String(&amp;quot;path&amp;quot;, e.path))
                err := e.WriteSnapshot()
                if err != nil &amp;amp;&amp;amp; err != errCompactionsDisabled {
                    e.logger.Info(&amp;quot;Error writing snapshot&amp;quot;, zap.Error(err))
                    atomic.AddInt64(&amp;amp;e.stats.CacheCompactionErrors, 1)
                } else {
                    atomic.AddInt64(&amp;amp;e.stats.CacheCompactions, 1)
                }
                atomic.AddInt64(&amp;amp;e.stats.CacheCompactionDuration, time.Since(start).Nanoseconds())
            }
        }
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;When a new read operation is received, the storage engine will merge data from the TSM files with the data stored in the cache (so you can read data that hasn’t been snapshotted into the TSM files yet). At query processing time, a copy of the data is done so any new write coming into the system won’t affect the results of any running query.&lt;/p&gt;
&lt;h1 id=&#34;conclusion&#34;&gt;Conclusion&lt;/h1&gt;
&lt;p&gt;This post has been a short intro to InfluxDB and a brief overview of its storage subsystem. In addition to the previous intros, we’ve covered a few details of the WAL + Cache storage subsystem elements. As I have already mentioned, my idea is to publish two more posts: one of them covering a few details of the TSM part and the other one going through the inner workings of the TSI component.&lt;/p&gt;
&lt;p&gt;Of course, I am aware this is just an introduction, and the devil is in the details, but I do hope this provides you some insights into a few database design concepts and how a concrete database applies them.&lt;/p&gt;
&lt;p&gt;Thanks for reading.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Books and Talks</title>
      <link>https://migue.github.io/post/books-and-talks/</link>
      <pubDate>Mon, 03 Feb 2020 15:14:30 +0100</pubDate>
      <guid>https://migue.github.io/post/books-and-talks/</guid>
      <description>&lt;p&gt;I would like to share with you a bunch of the tech talks I have recently watched or some of the latest books I have enjoyed.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Disclaimer&lt;/strong&gt;: this list is just a set of resources I have gone through more or less &amp;ldquo;recently&amp;rdquo; about a few different topics I use to enjoy. It&amp;rsquo;s not my goal to create a &amp;ldquo;Best Talks/Papers/Whatever List&amp;rdquo;, just wanted to share with you all some of the things I have found interesting lately (all the resources are listed in no specific order).&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Disclaimer 2&lt;/strong&gt;: by &amp;ldquo;lately&amp;rdquo; I mean the last ~1.5 years, so probably many of the contents linked below will be quite old for most of you (I have slowed down a lot on my work-related stuff, but this is a different story).&lt;/p&gt;
&lt;p&gt;If you do like databases, systems engineering, cloud computing, runtimes and low-level programming, this list might contain some pointers to a book/talk you could enjoy.&lt;/p&gt;
&lt;h2 id=&#34;talks&#34;&gt;Talks&lt;/h2&gt;
&lt;h3 id=&#34;lets-talk-locks-by-kavya-joshi&#34;&gt;Let&amp;rsquo;s Talk Locks! by Kavya Joshi&lt;/h3&gt;
&lt;p&gt;An amazing talk about how locks are used at different places (Linux syscalls, Go programming language) and its performance implications.&lt;/p&gt;
&lt;p&gt;Actually, any talk coming from Kavya is usually wonderful.&lt;/p&gt;
&lt;p&gt;
&lt;a href=&#34;https://www.infoq.com/presentations/go-locks/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Video&lt;/a&gt;
&lt;/p&gt;
&lt;h3 id=&#34;ebtree--design-for-a-scheduler-and-use-almost-everywhere-by-andjelko-iharos&#34;&gt;EBtree — Design for a Scheduler and Use (Almost) Everywhere by Andjelko Iharos&lt;/h3&gt;
&lt;p&gt;This talk goes into the evolution of HAProxy’s internals and how the created the EBTree data structure in order to manage active and suspended tasks within their scheduler (and how they ended up using it almost everywhere)&lt;/p&gt;
&lt;p&gt;
&lt;a href=&#34;https://www.infoq.com/presentations/ebtree-design/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Video&lt;/a&gt;
&lt;/p&gt;
&lt;h3 id=&#34;performance-matters-by-emery-berger&#34;&gt;Performance Matters by Emery Berger&lt;/h3&gt;
&lt;p&gt;I simply love this talk. Emery goes through many of the different factors that, potentially, can affect performance on modern hardware: memory layout, instruction prefetching, branch prediction, &amp;hellip; and some surprising ones like env variables.&lt;/p&gt;
&lt;p&gt;During the talk, he presents the &lt;strong&gt;stabilizer&lt;/strong&gt; tool which randomizes programs layouts during runtime and introduced 
&lt;a href=&#34;https://www.usenix.org/node/196222&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;coz&lt;/a&gt;
, a causal profiler.&lt;/p&gt;
&lt;p&gt;
&lt;a href=&#34;https://www.youtube.com/watch?v=r-TLSBdHe1A&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Video&lt;/a&gt;
&lt;/p&gt;
&lt;h3 id=&#34;pid-loops-and-the-art-of-keeping-systems-stable-by-colm-maccárthaigh&#34;&gt;PID Loops and the Art of Keeping Systems Stable by Colm MacCárthaigh&lt;/h3&gt;
&lt;p&gt;I like Colm&amp;rsquo;s talks a lot. In this case, the talk goes through PID loops, control theory and how a bunch of AWS systems apply these design principles.&lt;/p&gt;
&lt;p&gt;
&lt;a href=&#34;https://www.infoq.com/presentations/pid-loops/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Video&lt;/a&gt;
&lt;/p&gt;
&lt;h3 id=&#34;structured-concurrency-by-roman-elizarov&#34;&gt;Structured Concurrency by Roman Elizarov&lt;/h3&gt;
&lt;p&gt;Great talk about the evolution of asynchronous APIS in different programming languages and platforms and how they have applied the structured concurrency concepts to the design of the Kotlin&amp;rsquo;s concurrency libraries.&lt;/p&gt;
&lt;p&gt;
&lt;a href=&#34;https://www.youtube.com/watch?v=Mj5P47F6nJg&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Video&lt;/a&gt;
&lt;/p&gt;
&lt;h3 id=&#34;reduce-your-storage-costs-with-transient-replication-and-cheap-quorums-by-alex-petrov&#34;&gt;Reduce your storage costs with Transient Replication and Cheap Quorums by Alex Petrov&lt;/h3&gt;
&lt;p&gt;Alex talks about 
&lt;a href=&#34;http://www2.cs.uh.edu/~paris/MYPAPERS/Icdcs86.pdf&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Voting With Witnesses&lt;/a&gt;
 a replication schema which is used in Google Spanner and Megastore and has inspired Apache Cassandra&amp;rsquo;s Transient Replication and Cheap Quorums implementation&lt;/p&gt;
&lt;p&gt;
&lt;a href=&#34;https://www.youtube.com/watch?v=pEtRBid5oeA&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Video&lt;/a&gt;
&lt;/p&gt;
&lt;h3 id=&#34;ftrace-where-modifying-a-running-kernel-all-started-by-steven-rostedt&#34;&gt;ftrace: Where modifying a running kernel all started by Steven Rostedt&lt;/h3&gt;
&lt;p&gt;If you&amp;rsquo;ve ever wondered how tracing works in the Linux kernel you should probably watch it. A highly technical talk but really well executed even an stupid like myself could &lt;em&gt;understand&lt;/em&gt; it.&lt;/p&gt;
&lt;p&gt;
&lt;a href=&#34;https://www.youtube.com/watch?v=93uE_kWWQjs&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Video&lt;/a&gt;
&lt;/p&gt;
&lt;h3 id=&#34;applicable-and-achievable-formal-verification-by-heidy-khlaaf&#34;&gt;Applicable and Achievable Formal Verification by Heidy Khlaaf&lt;/h3&gt;
&lt;p&gt;Heidy provides a nice overview of a few verification tools and techniques deployed in the safety critical industry and shows how this could be adapted to your systems.&lt;/p&gt;
&lt;p&gt;
&lt;a href=&#34;https://www.youtube.com/watch?v=GIYtzygBgA4&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Video&lt;/a&gt;
&lt;/p&gt;
&lt;h3 id=&#34;correctness-proofs-of-distributed-systems-with-isabellehol-by--martin-kleppmann&#34;&gt;Correctness proofs of distributed systems with Isabelle/HOL by  Martin Kleppmann&lt;/h3&gt;
&lt;p&gt;An extended version of the talk that Martin did at 
&lt;a href=&#34;https://www.youtube.com/watch?v=7w4KC6i9Yac&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Strange Loop 2019&lt;/a&gt;
. He explores how Isabelle can be used to analyze algorithms used in distributed systems, and prove them correct.&lt;/p&gt;
&lt;p&gt;
&lt;a href=&#34;https://www.youtube.com/watch?v=Uav5jWHNghY&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Video&lt;/a&gt;
&lt;/p&gt;
&lt;h2 id=&#34;books&#34;&gt;Books&lt;/h2&gt;
&lt;h3 id=&#34;database-internals-by-alex-petrov&#34;&gt;Database internals by Alex Petrov&lt;/h3&gt;
&lt;p&gt;Alex has done an amazing job writing this book. You will find different topics: storage engines like BTrees and LSMs, how data is physically stored and the different building blocks involved, distributed systems and database clustering among many others&lt;/p&gt;
&lt;p&gt;If you like databases and its internals this book is going to be a fun read.&lt;/p&gt;
&lt;p&gt;
&lt;a href=&#34;http://shop.oreilly.com/product/0636920174462.do&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;O&amp;rsquo;Reilly&lt;/a&gt;
&lt;/p&gt;
&lt;h3 id=&#34;serious-cryptography-by-jean-philippe-aumasson&#34;&gt;Serious Cryptography by Jean-Philippe Aumasson&lt;/h3&gt;
&lt;p&gt;Another wonderful book. A practical guide to modern encryption that goes through the fundamental mathematical concepts at the heart of cryptography: authenticated encryption, hash functions, block ciphers, and public-key techniques (RSA and elliptic curve cryptography).&lt;/p&gt;
&lt;p&gt;Totally recommended if you want to learn a little bit more about cryptography, and, even if you&amp;rsquo;re a seasoned practitioner (not my case) I think you can learn a few things.&lt;/p&gt;
&lt;p&gt;
&lt;a href=&#34;http://shop.oreilly.com/product/9781593278267.do&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;O&amp;rsquo;Reilly&lt;/a&gt;
&lt;/p&gt;
&lt;h3 id=&#34;optimizing-java-by-benjamin-evans-james-gough-and-chris-newland&#34;&gt;Optimizing Java By Benjamin Evans, James Gough, and Chris Newland&lt;/h3&gt;
&lt;p&gt;One more book I have enjoyed a lot. A practical approach to JVM performance tuning and how to identify and solve performance related issues. The book will help you to understand Java platform&amp;rsquo;s internals (if you&amp;rsquo;re willing to go through it :) )&lt;/p&gt;
&lt;p&gt;
&lt;a href=&#34;http://shop.oreilly.com/product/0636920042983.do&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;O&amp;rsquo;Reilly&lt;/a&gt;
&lt;/p&gt;
&lt;h3 id=&#34;efficient-io-with-io_uring&#34;&gt;Efficient IO with io_uring&lt;/h3&gt;
&lt;p&gt;I wasn&amp;rsquo;t sure where to put this resource; technically this is not a book, nor a paper either. Anyway, this is a gorgeous read about the newest Linux IO interface, io_uring and compare it to the current alternatives.&lt;/p&gt;
&lt;p&gt;Why this work is being done, how this works, &amp;hellip; IO_URING is a huge step forward in the Linux kernel and this short introduction provides a gentle introduction&lt;/p&gt;
&lt;p&gt;
&lt;a href=&#34;https://kernel.dk/io_uring.pdf&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;IO_URING introduction&lt;/a&gt;
&lt;/p&gt;
&lt;h3 id=&#34;cloud-native-data-center-networking-by-dinesh-dutt&#34;&gt;Cloud Native Data Center Networking By Dinesh Dutt&lt;/h3&gt;
&lt;p&gt;A really nice read about how modern cloud native data centers networks work and the steps required to design a datacenter that&amp;rsquo;s reliable and easy to manage. A mix of theory and practice which tries to guide the reader through everything which is needed to create and operate a network infrastructure in a modern datacenter.&lt;/p&gt;
&lt;p&gt;The book covers many different topics: network disaggregation, routing protocols, network virtualization, &amp;hellip;&lt;/p&gt;
&lt;p&gt;
&lt;a href=&#34;http://shop.oreilly.com/product/0636920217930.do&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;O&amp;rsquo;Reilly&lt;/a&gt;
&lt;/p&gt;
&lt;h3 id=&#34;bpf-performance-tools-linux-system-and-application-observability-by-brendan-gregg&#34;&gt;BPF Performance Tools: Linux System and Application Observability by Brendan Gregg&lt;/h3&gt;
&lt;p&gt;I am still going through it, but I am enjoying it so much I thought I should include it in this list. A really comprehensive guide about BPF tools, performance engineering, and kernel internals. The book includes tons of examples,tools, &amp;hellip;&lt;/p&gt;
&lt;p&gt;
&lt;a href=&#34;https://www.oreilly.com/library/view/bpf-performance-tools/9780136588870/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;O&amp;rsquo;Reilly&lt;/a&gt;
&lt;/p&gt;
&lt;p&gt;My original idea was to include a section with the papers I have recently enjoyed as well, but the post had become way too long that I decided to split it and do a follow-up including the academic papers.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Suerte</title>
      <link>https://migue.github.io/post/suerte/</link>
      <pubDate>Mon, 09 Sep 2019 22:31:01 +0100</pubDate>
      <guid>https://migue.github.io/post/suerte/</guid>
      <description>&lt;p&gt;Siempre me he considerado una persona con suerte; con mucha suerte.&lt;/p&gt;
&lt;p&gt;He tenido la suerte de tener unos padres que siempre se han preocupado de que tanto mi hermana como yo tuviéramos acceso a las oportunidades que ellos no pudieron tener, aunque eso implicara pasarse toda su vida trabajando como auténticos cabrones.&lt;/p&gt;
&lt;p&gt;Suerte por haber tenido amigos que han estado siempre a mi lado durante los buenos momentos y también durante los malos.&lt;/p&gt;
&lt;p&gt;Suerte por haber conocido a gente excepcional, a los que puedo llamar amigos, que me ha ayudado a navegar por el mundo profesional en el que me muevo y siempre ha tenido a bien aconsejarme y/o apoyarme en aquellos momentos en os que lo he necesitado.&lt;/p&gt;
&lt;p&gt;Suerte por haber conocido a la que hoy es mi mujer y con la que he formado una familia de la que me encuentro extremadamente orgulloso.&lt;/p&gt;
&lt;p&gt;¿Y por qué todo esto os estaréis preguntando? Soy consciente de que hay mucha gente a la que la suerte de la que hablaba anteriormente no le ha sonreido y me gustaría devolver un poco de la misma e intentar que el mundo en el que vivimos sea un poquito menos malo.&lt;/p&gt;
&lt;p&gt;Con el objetivo de aportar nuestro pequeño granito de arena, a principios de este año mi mujer y yo decidimos embarcarnos en el proceso necesario para formar parte del programa de Acogida Familiar de la Comunidad de Madrid (&lt;a href=&#34;http://www.comunidad.madrid/servicios/asuntos-sociales/acogimiento-familiar-menores)&#34;&gt;http://www.comunidad.madrid/servicios/asuntos-sociales/acogimiento-familiar-menores)&lt;/a&gt;. El enlace anterior explica muy bien, y con todo nivel de detalle, en qué consiste el proceso y cuáles son los objetivos del mismo. Para el que no le apetezca leérselo, de manera resumida, se trata de un programa donde las familias se ofrecen a acoger a niños de manera temporal (existen diferentes modalidades) mientras sus padres no pueden hacerse cargo de ellos.&lt;/p&gt;
&lt;p&gt;Durante los últimos meses donde hemos tenido que realizar cursos y mantener entrevistas con diferentes psicólogos y trabajadores sociales. En muchos momentos ha sido un proceso &amp;ldquo;complicado&amp;rdquo;, desde una persepectiva emocional, no por la dureza de las entrevistas si no por las historias que rodean a muchos de los niños que se encuentran bajo el amparo y custodia de la Comunidad de Madrid.&lt;/p&gt;
&lt;p&gt;Pues bien, el pasado viernes tuvimos la que se supone será la última entrevisa del proceso. Ahora mismo estamos pendientes de que las diferentes trabajoras sociales y psicólogas con las que nos hemos estado entrevistando emitan los informes correspondientes para que el pleno de la comisión del programa decida si podemos formar parte del mismo. Nos han adelantado que los informes son favorables y que vamos a ser aceptados en el programa (salvo catástrofe), aunque necesitamos el &amp;ldquo;sello&amp;rdquo; del pleno para ser parte oficial del mismo.&lt;/p&gt;
&lt;p&gt;A partir de que dicha notificación sea efectiva pasaríamos a ser parte oficial del programa, y, en &amp;ldquo;cualquier momento&amp;rdquo;, podrían avisarnos de que existe un niño/a que encaja en el ofrecimiento que nosotros hemos hecho como familia.&lt;/p&gt;
&lt;p&gt;Me resulta difícil expresar cómo me siento. Por una parte estoy muy contento de que nos hayan &amp;ldquo;aceptado&amp;rdquo; en el programa y de que podamos ayudar a gente que realmente lo necesita de una manera mucho más proactiva. Sin embargo, al mismo tiempo también me encuentro un poco &amp;ldquo;asustado&amp;rdquo; pensando en si seremos capaces de adaptarnos a esta nueva situación.&lt;/p&gt;
&lt;p&gt;Veremos que nos depara el futuro.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Papers We Love Madrid: capítulo final</title>
      <link>https://migue.github.io/post/papers-we-love-madrid-final-chapter/</link>
      <pubDate>Sat, 05 Jan 2019 10:31:01 +0100</pubDate>
      <guid>https://migue.github.io/post/papers-we-love-madrid-final-chapter/</guid>
      <description>&lt;p&gt;Parece imposible que hayan pasado cuatro años desde que iniciásemos la andadura del 
&lt;a href=&#34;https://migue.github.io/post/papers-we-love-madrid-tomando-forma/&#34;&gt;Papers We Love Madrid&lt;/a&gt;
.&lt;/p&gt;
&lt;p&gt;Han sido cuatro años con altibajos en los que nunca hemos llegado a tener la periodicidad y actividades que teníamos en la cabeza cuando se arrancó el grupo. Cuatro años en los que hemos &amp;ldquo;sufrido&amp;rdquo; mucho más de lo esperado en encontrar a gente que se animase a dar una charla, en los que hemos intentando generar los contenidos más diversos posibles aunque no siempre lo hayamos conseguido. Cuatro años en los que hemos sufrido, al igual que en otros muchos grupos, la falta de asistencia de las personas que inicialmente estaban inscritas.&lt;/p&gt;
&lt;p&gt;El objetivo inicial era acercar los mundos académicos y empresariales y demostrar que ambos pueden beneficiarse el uno del otro. Lamentablemente, hemos fracasado.&lt;/p&gt;
&lt;p&gt;Pero no todo son aspectos negativos; también nos hemos divertido mucho por el camino. Hemos tenido la suerte de contar con expertos internacionales en sus respectivas áreas: Carlos Baquero, Álvaro Videla o Christopher Meiklejohn entre otros muchos, hemos hablado de muchísimos temas interesantes: machine learning, sistemas distribuidos, protocolos, &amp;hellip; y hemos tenido la suerte de contar con miembros del grupo que son unos auténticos cracks, aunque nunca se hayan animado a dar una charla :)&lt;/p&gt;
&lt;p&gt;En el aspecto más personal, me gustaría dar las gracias a mi compañero de batallas 
&lt;a href=&#34;https://twitter.com/flopezluis&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Félix&lt;/a&gt;
 sin el cual todo esto que hemos hecho, aunque sea poco, no hubiera sido posible.&lt;/p&gt;
&lt;p&gt;Con todo esto, y como la mayor parte ya habréis deducido a partir del título del post, muy a nuestro pesar, damos por cerrada nuestra actividad como organizadores del Papers We Love Madrid. Todos los recursos que hemos generado a lo largo de este periplo están disponibles en el canal oficial de 
&lt;a href=&#34;https://www.youtube.com/channel/UCoj4eQh_dZR37lL78ymC6XA&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Papers We Love&lt;/a&gt;
&lt;/p&gt;
&lt;p&gt;¡Muchas gracias a todos por vuestro apoyo y colaboración!&lt;/p&gt;
&lt;p&gt;¡Hasta pronto!&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Papers We Love Madrid: Tomando Forma</title>
      <link>https://migue.github.io/post/papers-we-love-madrid-tomando-forma/</link>
      <pubDate>Tue, 02 Dec 2014 22:17:41 +0100</pubDate>
      <guid>https://migue.github.io/post/papers-we-love-madrid-tomando-forma/</guid>
      <description>&lt;p&gt;Como seguramente alguno de vosotros recordais, hace unas semanas planteé por 
&lt;a href=&#34;http://migue.github.io/2014/11/12/papers-we-love-madrid-edition/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;aquí&lt;/a&gt;
 la posibilidad de organizar un Papers We Love en Madrid. Unas cuantas personas mostraron su interés tanto en participar como en colaborar lo que me hizo seguir adelante con la iniciativa propuesta.&lt;/p&gt;
&lt;h2 id=&#34;meetup&#34;&gt;Meetup&lt;/h2&gt;
&lt;p&gt;Gracias a la inestimable participación del gran 
&lt;a href=&#34;https://twitter.com/flopezluis&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Féliz López&lt;/a&gt;
 hemos conseguido, bueno, realmente él ha conseguido que 
&lt;a href=&#34;https://twitter.com/old_sound&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Álvaro Videla&lt;/a&gt;
 sea el ponente que de el pistoletazo de salida al nuevo grupo.&lt;/p&gt;
&lt;p&gt;Parece que Álvaro tiene previsto pasarse por aquí en Febrero, con lo que &amp;ldquo;retrasaríamos&amp;rdquo; hasta ese momento la primera reunión del grupo. En cuanto al paper, todavía no he hablado con Álvaro, pero en cuanto me lo concrete, lo actualizaré tanto aquí como en la futura página de Meetup del grupo (véase más abajo)&lt;/p&gt;
&lt;h2 id=&#34;ubicación&#34;&gt;Ubicación&lt;/h2&gt;
&lt;p&gt;Todavía no tenemos una ubicación definitiva aunque varias personas se han ofrecido a través de Twitter a conseguir espacios donde podamos celebrar la primera reunión. Por simplicidad de las gestiones, había hablado con mi jefe sobre la posibilidad de disponer de las oficinas de 
&lt;a href=&#34;https://liferay.com&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Liferay España&lt;/a&gt;
 y la respuesta ha sido positiva. Del mismo modo, Félix me ha comentado que la nueva oficina de 
&lt;a href=&#34;http://shuttlecloud.com/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;ShuttleCloud&lt;/a&gt;
 también es una opción viable. Por último, 
&lt;a href=&#34;https://twitter.com/fcofdezc&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Francisco Fernández&lt;/a&gt;
 me comentaba que podría conseguir las oficinas de 
&lt;a href=&#34;https://tuenti.com&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Tuenti&lt;/a&gt;
.&lt;/p&gt;
&lt;p&gt;Personalmente creo el abanico de opciones para esta primera charla es lo suficientemente amplio (y céntrico :D ). Cuando la ubicación sea definitiva, lo haré saber.&lt;/p&gt;
&lt;h2 id=&#34;grupo-de-meetup&#34;&gt;Grupo de Meetup&lt;/h2&gt;
&lt;p&gt;Dado que parece que todo esto va tomando forma, iré creando el grupo de Meetup además de revisar el resto de &amp;ldquo;requisitos&amp;rdquo; que establece la comunidad de Papers We Love&lt;/p&gt;
&lt;p&gt;¡Muchas gracias por vuestra atención!&lt;/p&gt;
&lt;p&gt;Migue&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Papers We Love Madrid Edition</title>
      <link>https://migue.github.io/post/papers-we-love-madrid-edition/</link>
      <pubDate>Wed, 12 Nov 2014 22:15:41 +0100</pubDate>
      <guid>https://migue.github.io/post/papers-we-love-madrid-edition/</guid>
      <description>&lt;p&gt;Hace unos días, a raíz de un tweet sobre 
&lt;a href=&#34;http://julialang.org/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Julia&lt;/a&gt;
, salió a la luz un tema al que hace tiempo le llevo dando bastantes vueltas: 
&lt;a href=&#34;http://papers-we-love.github.io/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Papers we Love&lt;/a&gt;
.&lt;/p&gt;
&lt;h2 id=&#34;la-comunidad&#34;&gt;La comunidad&lt;/h2&gt;
&lt;p&gt;Para todos aquellos que nunca han oído hablar de esta iniciativa, no es más que un repositorio de papers académicos en torno al cual se ha creado una comunidad que realizar charlas periódicas donde presentar y discutir sobre los mismos.&lt;/p&gt;
&lt;h2 id=&#34;las-normas&#34;&gt;Las normas&lt;/h2&gt;
&lt;p&gt;No tiene mucho sentido que replique aquí todas las normas: 
&lt;a href=&#34;https://github.com/papers-we-love/papers-we-love/wiki/Creating-a-PWL-chapter&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;aquí&lt;/a&gt;
 están detalladas.&lt;/p&gt;
&lt;p&gt;Los requisitos básicos son disponer de un grupo de 
&lt;a href=&#34;http://www.meetup.com&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Meetup&lt;/a&gt;
 y realizar reuniones razonablemente periódicas (para que ellos te mantengan en la lista de grupos activos).&lt;/p&gt;
&lt;h2 id=&#34;la-propuesta&#34;&gt;La propuesta&lt;/h2&gt;
&lt;p&gt;Seguro que muchos de vosotros os estaréis preguntando: ¿Por qué? ¿No existen suficientes grupos de usuarios en Madrid?&lt;/p&gt;
&lt;p&gt;Siempre he pensado que el mundo de la investigación y el mundo empresarial deberían estar mucho más cerca el uno del otro, y me gustaría que este grupo permitiera a los integrantes ver cómo ambos mundos pueden beneficiarse mutuamente.&lt;/p&gt;
&lt;p&gt;Me gustaría destacar que la temática de este grupo &lt;strong&gt;no&lt;/strong&gt; está focalizada en una tecnología, plataforma o lenguaje de programación concretos sino que gira en torno a papers que los integrantes del grupo consideren interesantes (y, por su puesto, de la visión que el speaker le quiera dar :) ). Si os dais una vuelta por los meetups de otras ciudades veréis que las temáticas son de lo más dispares.&lt;/p&gt;
&lt;p&gt;Evidentemente esto no es más que una idea/propuesta, para ver si habría gente interesada en que se pudiera formar el grupo.&lt;/p&gt;
&lt;p&gt;¡Muchas gracias por vuestra atención!&lt;/p&gt;
&lt;p&gt;Migue&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Java Compiler String Addition</title>
      <link>https://migue.github.io/post/java-compiler-string-addition/</link>
      <pubDate>Mon, 21 Apr 2014 22:29:06 +0100</pubDate>
      <guid>https://migue.github.io/post/java-compiler-string-addition/</guid>
      <description>&lt;p&gt;Lately I have seen quite a few misconceptions regarding how string concatenation is handled in the Java world so I would like to write this short blog entry with a couple of stupid examples in order to show the basics of how it is done.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; I am focusing here in the bytecode generated by the Java compiler, regardless any optimization the runtime could apply.&lt;/p&gt;
&lt;h3 id=&#34;concatenating-constant-strings&#34;&gt;Concatenating constant strings&lt;/h3&gt;
&lt;p&gt;Imagine we are writing a new class where we have defined three final string fields and we want to add a new method which just returns the sum of the three:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;StringConcatenation&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;

        &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;final&lt;/span&gt; String A &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;A&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; B&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;B&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt; C&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;C&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;

        &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; String &lt;span style=&#34;color:#a6e22e&#34;&gt;concatFinalStrings&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
                &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; A &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; B &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; C&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
        &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Taking a look to the bytecode generated by the Java compiler we can see the following (I have included only the relevant parts of the command java -v for the sake of clarity):&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bytecode&#34; data-lang=&#34;bytecode&#34;&gt;Constant pool:
   ...
   #9 = String             #49            //  ABC
   ...

  public java.lang.String concatFinalStrings();
    descriptor: ()Ljava/lang/String;
    flags: ACC_PUBLIC
    Code:
      stack=1, locals=1, args_size=1
         0: ldc           #9                  // String ABC
         2: areturn
      LineNumberTable
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The previous snippet shows how the Java compiler will generate for us a new constant (position 9 of the constants pool) containing the concatentation of the three strings, and the implementation of the method is just an &lt;strong&gt;ldc&lt;/strong&gt; instruction. As far as I remember, the JLS specifies that compile time constants should end up in an internted string&lt;/p&gt;
&lt;p&gt;For the reader: remove the final modifier at the fields declaration and analyze the generated bytecode. Do you see any difference?&lt;/p&gt;
&lt;h3 id=&#34;concatenating-non-constant-strings&#34;&gt;Concatenating non constant strings&lt;/h3&gt;
&lt;p&gt;The example shown at the previous section could be very unrealistic for many of you so let&amp;rsquo;s see if we can get something more interesting in place. Now we are planning to add a new method which just invokes three other methods and links together the results , like this:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;StringConcatenation&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;

        &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; String &lt;span style=&#34;color:#a6e22e&#34;&gt;concatVariableStrings&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
                &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; getA&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; getB&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; getC&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt;
        &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;

        &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; String &lt;span style=&#34;color:#a6e22e&#34;&gt;getA&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;A&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
        &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; String &lt;span style=&#34;color:#a6e22e&#34;&gt;getB&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;B&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
        &lt;span style=&#34;color:#66d9ef&#34;&gt;public&lt;/span&gt; String &lt;span style=&#34;color:#a6e22e&#34;&gt;getC&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;C&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Taking a closer look at the generated bytecode (again just included the most important sections):&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bytecode&#34; data-lang=&#34;bytecode&#34;&gt;  public java.lang.String concatVariableStrings();
    descriptor: ()Ljava/lang/String;
    flags: ACC_PUBLIC
    Code:
      stack=2, locals=1, args_size=1
         0: new           #8                  // class java/lang/StringBuilder
         3: dup
         4: invokespecial #9                  // Method java/lang/StringBuilder.&#34;&lt;init&gt;&#34;:()V
         7: aload_0
         8: invokevirtual #12                 // Method getA:()Ljava/lang/String;
        11: invokevirtual #10                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
        14: aload_0
        15: invokevirtual #13                 // Method getB:()Ljava/lang/String;
        18: invokevirtual #10                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
        21: aload_0
        22: invokevirtual #14                 // Method getC:()Ljava/lang/String;
        25: invokevirtual #10                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
        28: invokevirtual #11                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
        31: areturn
      LineNumberTable:
        line 12: 0&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;we can see the Java compiler is creating a &lt;strong&gt;StringBuilder&lt;/strong&gt; under the hood, so no temporary String objects are allocated in order to compose the final string which needs to be returned from the method. If you need to improve the performance, you should write the builder by your own, setting the initial size in the constructor.&lt;/p&gt;
&lt;p&gt;Maybe this is not new for you (as it should be), but, lately, I have received quite a few questions regarding this behaviour.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Environment&lt;/strong&gt;: I have used &lt;strong&gt;javac&lt;/strong&gt; and &lt;strong&gt;javap 1.8.0_05&lt;/strong&gt; in OSx to compile the examples.&lt;/p&gt;
&lt;h3 id=&#34;for-the-curious&#34;&gt;For the curious&lt;/h3&gt;
&lt;p&gt;If you &amp;ldquo;port&amp;rdquo; the previous examples to Scala and take a look to the generated bytecode (of the second example), you will see that the Scala compiler will use the same approach shown before; generating a &lt;strong&gt;StringBuilder (scala.collection.mutable.StringBuilder)&lt;/strong&gt; under the covers.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Saying No</title>
      <link>https://migue.github.io/post/saying-no/</link>
      <pubDate>Sun, 26 Jan 2014 10:36:10 +0100</pubDate>
      <guid>https://migue.github.io/post/saying-no/</guid>
      <description>&lt;p&gt;About two weeks ago I got a surprisingly email in my inbox. An old friend of mine is about to launch a new startup and he asked me to become the CTO of their new company. My first reaction was: Wow!&lt;/p&gt;
&lt;p&gt;Since this first email we have talked each other (a colleague of him was involved too) quite a few times. They have a good idea, an already working prototype of the product they want to create and enough money to be alive for a while if things don&amp;rsquo;t go as expected. I have thinking a lot about the pros and cons of joining them on their new adventure and I have finally made a decision: I am not joining them.&lt;/p&gt;
&lt;p&gt;As I have already written at the beginning of the post, their new project has a bunch of attractive things: from a pure technology perspective their product will require some of the newest technologies in order to solve their problem; I would say it is a &amp;ldquo;fun&amp;rdquo; problem from a techical perspective. From a business perspective they already have quite a few good ideas, I am just curious on how they finally will set the main target audience of the product. So, I guess, your next question will be, why aren&amp;rsquo;t you joining them? I have a really short and concise answer: my family.&lt;/p&gt;
&lt;p&gt;Creating a new startup is a really hard and time consuming task, even with the above-described attenuating. Tons of effort are required to get everything in the right place: finding new clients, traveling, developing the product, hiring people, compose a new team and so on. All of this stuff is really interesting, and, don&amp;rsquo;t take me wrong , I am a pretty hard worker and love my job (all of those who already know me could corroborate that), but, right now, my top priority is to spend as much time as possible with my wife and my son (we are planning to increase the family in the near future (hopefully :)), and I think all this stuff isn&amp;rsquo;t too much compatible with becoming a CTO of a new startup at this moment. Of course, all of this is just my personal opinions based on my own experiences (and my friends&amp;rsquo;).&lt;/p&gt;
&lt;p&gt;I don&amp;rsquo;t know if I am making the right decision, but I am being consistent with my priorities. I have been completely transparent with them, and I think they have understood my final choice; it has been a considered decision.&lt;/p&gt;
&lt;p&gt;Besides my personal reasons, to be honest, I am not sure if I would be able to successfully achieve all the things a CTO is supposed to undertake. I am just a mere technical guy who tries to learn as much as possible of all the people around him, and that, every single day, realize that he has no real idea of how computers work :).&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;m not entirely convinced I have expressed myself correctly because of the language (this is one of the main reasons I switched the blog&amp;rsquo;s language, just to force me and try to improve my skills) but I wanted to write it down and share with all of you. I like to hear about this kind of stories: the reasons why people start a new company, decline a good job offer or cross the whole world looking for new challenges.&lt;/p&gt;
&lt;p&gt;I am sure my friends are going to succeed on their new adventure. I would wish them luck, but I&amp;rsquo;m completely sure they don&amp;rsquo;t need it.&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>
